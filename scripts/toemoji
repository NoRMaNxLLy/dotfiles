#!/bin/bash

# just do not do it this way: ':smile::sad:'. It wont work as expected
declare -A emojies=(
[smile]=ğŸ™‚ [tear]=ğŸ˜¢ [happy]=ğŸ˜ƒ [lol]=ğŸ¤£ [hot]=ğŸ¥µ [cool]=ğŸ˜ [skull]=ğŸ’€
[sad]=â˜¹ï¸  [crying]=ğŸ˜­ [thinking]=ğŸ¤” [xd]=ğŸ˜† [cold]=ğŸ¥¶ [fire]=ğŸ”¥ [ghost]=ğŸ‘»
[bot]=ğŸ¤– [cowboy]=ğŸ¤  [heart]=â¤ï¸  [celebrate]=ğŸ¥³ [disappointed]=ğŸ˜ [frog]=ğŸ¸
[mindblow]=ğŸ¤¯ [evil]=ğŸ˜ˆ [scared]=ğŸ˜±
#ğŸ˜µğŸ˜—ğŸ˜ŸğŸ˜š ğŸ˜ªğŸ˜³ğŸ¤•ğŸ˜® ğŸ¤©ğŸ¤‘ğŸ˜¼ ğŸ¤¥â˜ºï¸ ğŸ˜¹ğŸ¤¬ğŸ˜ˆ ğŸ˜¤ğŸ˜ƒ ğŸ˜«ğŸ˜½ğŸ¥°â€
#ğŸ¥¸ğŸ˜‰ğŸ™‚ğŸ˜¦ ğŸ˜¡â˜ ï¸ğŸ˜¬ğŸ¤“ ğŸ˜“ğŸ˜¸ğŸ˜„ğŸ™ ğŸ‘ºğŸ¤¡ğŸ‘¹ğŸ˜´ ğŸ˜¿ğŸ˜‹ğŸ˜·ğŸ˜Š ğŸ¤¤ğŸ‘¾ğŸ¥´ ğŸ˜²ğŸ¥ºğŸ¤’ ğŸ˜ŒğŸ¤§ğŸ¤—
#ğŸ˜‡ğŸ˜’ğŸ‘½ğŸ˜¨ ğŸ˜ğŸ˜¶ğŸ˜‘ ğŸ¤£ğŸ˜–ğŸ˜›ğŸ˜… ğŸƒğŸ˜™ğŸ¤«ğŸ˜¥ ğŸ¤ªğŸ˜œğŸ˜ ğŸ™€ğŸ˜°ğŸ§ğŸ¤¢ #ğŸ˜µğŸ’«ğŸ˜•ğŸ˜˜ğŸ¤¨
#ğŸ¤®ğŸ˜£ğŸ˜ğŸ¤­ ğŸ˜¯ğŸ˜ ğŸ˜¾ğŸ˜”ğŸ¥² ğŸ˜ğŸ˜€ğŸ˜§ #â¤ï¸ğŸ©¹ğŸ˜‚ğŸ¥±ğŸ˜» #ğŸ˜©ğŸ˜ºğŸ‘¿ğŸ˜ ğŸ˜¶ğŸŒ«ï¸ğŸ¤ğŸ˜ ğŸ˜®ğŸ’¨ ğŸ™„
)

pattern=':([a-zA-Z]+):'

while IFS=$'\n' read -r line; do
    # look for :key: only if the pattern is matched.
    if [[ ${line} =~ ${pattern} ]]; then
        for word in ${line}; do
            # check the word if it matches, otherwise skip it.
            [[ ${word} =~ ${pattern} ]] || continue
            key=${BASH_REMATCH[1]}
            emoji=${emojies[${key,,}]:-:${key}:} # if no key, leave it.
            line=${line//:${key}:/${emoji}}
        done
    fi
    echo "${line}"  # quoting saves the indentation of the line ğŸ¤”
done < ${1:-/dev/stdin}
